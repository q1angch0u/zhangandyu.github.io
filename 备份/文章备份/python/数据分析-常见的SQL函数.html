<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="个人博客"><title>常见的sql函数都有哪些 | 怪兽宇的小站</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.1/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.1/jquery.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/2.0.4/clipboard.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','127783955','auto');ga('send','pageview');
</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">常见的sql函数都有哪些</h1><a id="logo" href="/.">怪兽宇的小站</a><p class="description">脚踏实地，仰望星空!</p></div><div id="nav-menu"><a href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/tool/"><i class="fa fa-yelp"> 工具</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">常见的sql函数都有哪些</h1><div class="post-content"><h1 id="常见的sql函数都有哪些"><a href="#常见的sql函数都有哪些" class="headerlink" title="常见的sql函数都有哪些"></a>常见的sql函数都有哪些</h1><p>在日常工作中经常需要使用 SQL 语句进行数据查询， 以下为常见 SQL 函数：</p>
<ol>
<li>聚合函数</li>
</ol>
<table>
<thead>
<tr>
<th>函数名</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>count()</td>
<td>个数统计函数</td>
</tr>
<tr>
<td>count(distinct  )</td>
<td>统计去重之后的个数</td>
</tr>
<tr>
<td>sum()</td>
<td>求和</td>
</tr>
<tr>
<td>sum(distinct )</td>
<td>去重之后的和</td>
</tr>
<tr>
<td>avg()</td>
<td>平均值</td>
</tr>
<tr>
<td>avg(distinct)</td>
<td>去重之后的平均值</td>
</tr>
<tr>
<td>min()</td>
<td>最小值</td>
</tr>
<tr>
<td>max()</td>
<td>最大值</td>
</tr>
<tr>
<td>corr(A, B)</td>
<td>相关系数</td>
</tr>
<tr>
<td>var_pop()</td>
<td>方差</td>
</tr>
<tr>
<td>var_samp()</td>
<td>样本方差</td>
</tr>
<tr>
<td>stddev_pop()</td>
<td>标准偏差</td>
</tr>
<tr>
<td>stddev_samp()</td>
<td>标准样本偏差</td>
</tr>
<tr>
<td>covar_pop(A, B)</td>
<td>协方差</td>
</tr>
<tr>
<td>covar_samp(A, B)</td>
<td>样本协方差</td>
</tr>
<tr>
<td>RAND()</td>
<td>随机数</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>字符串函数</li>
</ol>
<table>
<thead>
<tr>
<th>函数名</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>concat()</td>
<td>拼接字符串</td>
</tr>
<tr>
<td>length()</td>
<td>计算字符串的长度，一个汉字算三个字符</td>
</tr>
<tr>
<td>instr (A ,B )</td>
<td>返回字符B首次在A中出现的位置,不存在返回0</td>
</tr>
<tr>
<td>lcase</td>
<td>转换成小写</td>
</tr>
<tr>
<td>left (string2 ,length )</td>
<td>从string2中的左边起取length个字符</td>
</tr>
<tr>
<td>lower()</td>
<td>将字串转化为小写</td>
</tr>
<tr>
<td>upper()</td>
<td>将字符转化为大写</td>
</tr>
<tr>
<td>replace()</td>
<td>替换字符</td>
</tr>
<tr>
<td>substr()</td>
<td>返回字符串A从start位置开始，长度为len的字符串</td>
</tr>
<tr>
<td>substring()</td>
<td>截取字符串</td>
</tr>
<tr>
<td>substring_index()</td>
<td>通过截取获取不同索引位的字符</td>
</tr>
<tr>
<td>LTRIM (string2 )</td>
<td>去除前端空格</td>
</tr>
<tr>
<td>RTRIM (string2 )</td>
<td>去除后端空格</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>时间函数</li>
</ol>
<table>
<thead>
<tr>
<th>函数名</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>NOW ( )</td>
<td>当前时间</td>
</tr>
<tr>
<td>extract()</td>
<td>抽取具体的年、月、日</td>
</tr>
<tr>
<td>date()</td>
<td>返回时间的日期部分</td>
</tr>
<tr>
<td>year()</td>
<td>返回时间的年份</td>
</tr>
<tr>
<td>month()</td>
<td>返回时间的月份</td>
</tr>
<tr>
<td>day()</td>
<td>返回日期的天</td>
</tr>
<tr>
<td>hour()</td>
<td>返回时间的小时</td>
</tr>
<tr>
<td>minute()</td>
<td>返回时间的分钟</td>
</tr>
<tr>
<td>second()</td>
<td>返回时间的秒</td>
</tr>
<tr>
<td>week ()</td>
<td>第几周</td>
</tr>
<tr>
<td>dayofweek()</td>
<td>返回星期几，1为星期天</td>
</tr>
<tr>
<td>dayofyear()</td>
<td>一年中的第几天</td>
</tr>
<tr>
<td>sec_to_time ( )</td>
<td>秒数转成时间</td>
</tr>
<tr>
<td>dateadd()</td>
<td>时间相加</td>
</tr>
<tr>
<td>date_sub()</td>
<td>时间相减</td>
</tr>
<tr>
<td>datediff()</td>
<td>时间的差值</td>
</tr>
<tr>
<td>date_format()</td>
<td>输出指定时间格式</td>
</tr>
<tr>
<td>datename()</td>
<td>返回日期部分的参数</td>
</tr>
<tr>
<td>datepart()</td>
<td>返回日期、时间的单独部分</td>
</tr>
</tbody>
</table>
<ol start="4">
<li>其他函数与表达式</li>
</ol>
<table>
<thead>
<tr>
<th>函数名</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>rank()</td>
<td>排名相等的会留下空位</td>
</tr>
<tr>
<td>dense_rank()</td>
<td>排名相等的不会留下空位</td>
</tr>
<tr>
<td>row_number()</td>
<td>排名不管数据是否相等</td>
</tr>
<tr>
<td>lag()</td>
<td>访问相同结果集的先前行中的数据</td>
</tr>
<tr>
<td>lead()</td>
<td>访问相同结果集的后续行中的数据</td>
</tr>
<tr>
<td>first_value()</td>
<td>返回组中数据窗口的第一个值</td>
</tr>
<tr>
<td>last_value()</td>
<td>返回组中数据窗口的最后一个值</td>
</tr>
<tr>
<td>if()</td>
<td>条件判断函数</td>
</tr>
<tr>
<td>case…when…else…</td>
<td>如何…那么…否则…</td>
</tr>
<tr>
<td>over</td>
<td>与聚合函数sum(), count(), avg()等结合使用， 实现分组聚合的功能</td>
</tr>
<tr>
<td>split()</td>
<td>hive字符串分割函数</td>
</tr>
<tr>
<td>intersect</td>
<td>交集</td>
</tr>
<tr>
<td>except</td>
<td>差集</td>
</tr>
<tr>
<td>union all</td>
<td>并集</td>
</tr>
</tbody>
</table>
<p>以上就是我总结的常用的 SQL 函数， 你还有哪些好用的 SQL 函数， 欢迎留言补充。</p>
</div></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' ? true : false;
var verify = 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'LWPB8jjoMUiH98OUCjulreBj-gzGzoHsz',
  appKey:'YOWrXQ1oP2QTavuCRp2QeRYV',
  placeholder:'　快来留下你的脚印吧',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/数据分析技能/">数据分析技能</a><span class="category-list-count">4</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/04/18/Hive-SQL学习/">Hive-SQL学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/09/27/技能-pandas库学习/">Python-Pandas库学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/25/技能-python基础学习/">python基础学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/12/技能-python爬虫学习/">Python爬虫学习</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Hive/" style="font-size: 15px;">Hive</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.ruanyifeng.com/blog/" title="阮一峰的网络日志" target="_blank">阮一峰的网络日志</a><ul></ul><a href="http://www.chinawebanalytics.cn/" title="互联网分析在中国" target="_blank">互联网分析在中国</a><ul></ul><a href="https://www.yangzhiping.com/" title="阳志平的网志" target="_blank">阳志平的网志</a><ul></ul><a href="https://maxoxo.me/" title="maxOS" target="_blank">maxOS</a><ul></ul><a href="https://thelongestway.com/" title="The Longest Way" target="_blank">The Longest Way</a><ul></ul><a href="https://christophrehage.cn/" title="Christoph Rehage" target="_blank">Christoph Rehage</a><ul></ul><a href="https://codechina.org/" title="Tinyfool的中文Blog" target="_blank">Tinyfool的中文Blog</a><ul></ul><a href="http://sunny.blogchina.com/" title="梁宁的专栏" target="_blank">梁宁的专栏</a><ul></ul><a href="https://ayearofreadingtheworld.com/" title="A year of reading the world" target="_blank">A year of reading the world</a><ul></ul><a href="http://www.storytellingwithdata.com/blog/" title="storytelling-data" target="_blank">storytelling-data</a><ul></ul><a href="https://github.com/xiaolai/xiaolai.github.io" title="李笑来网站" target="_blank">李笑来网站</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">怪兽宇的小站.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/love/js/love.js"></script><script type="text/javascript" src="/copycode/js/copycode.js"></script><link rel="stylesheet" type="text/css" href="/copycode/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>